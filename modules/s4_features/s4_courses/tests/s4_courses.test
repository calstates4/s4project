<?php

require_once(drupal_get_path('module', 's4_core') .'/tests/s4_core_base_test.php');

class S4CoursesTestCase extends s4WebTestCase {
	
	public static function getInfo() {
    return array(
      'name' => 'S4 Couse Test',
      'description' => 'Test course management and student signup.',
      'group' => 'Student Signup',
    );
  }
  
  public function setUp() {
  	parent::setUp($this->modules);  	
  }
  
  public function testCourseCreation() {
  	$this->drupalLogout();
	$this->drupalLogin($this->drupalCreateUser($this->roles['administrator']));
	$term_code = $this->randomName(8);
	$term = $this->drupalCreateNode(array('type' => 'course_term',
										  'title' => 'Fall 2012',
										  'field_term_code' => array('en' => array(array('value' => $term_code))),
										  'field_term_date_start' => array('en' => array(array('value' => '2011-07-10T00:00:00')))));
	$this->drupalGet('node/'. $term->nid);
	$this->assertText($term_code);
  }
}